{"code":"!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t){throw new Error('Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/adambo/Desktop/repositories/slot-game/js/GameStateEvents.js: Unexpected token (2:8)\\n\\n\u001b[0m \u001b[90m 1 | \u001b[39m\u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mGameStateEvents\u001b[39m {\u001b[0m\\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2 | \u001b[39m    \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mslotSpinning \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mCustomEvent\u001b[39m(\u001b[0m\\n\u001b[0m \u001b[90m   | \u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 3 | \u001b[39m        \u001b[32m\"slotSpinning\"\u001b[39m\u001b[33m,\u001b[39m {\u001b[0m\\n\u001b[0m \u001b[90m 4 | \u001b[39m            detail\u001b[33m:\u001b[39m {\u001b[0m\\n\u001b[0m \u001b[90m 5 | \u001b[39m                state\u001b[33m:\u001b[39m \u001b[32m\"slotSpinning\"\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\\n    at Parser.raise (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:6325:17)\\n    at Parser.unexpected (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:7642:16)\\n    at Parser.parseClassMemberWithIsStatic (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10772:12)\\n    at Parser.parseClassMember (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10668:10)\\n    at withTopicForbiddingContext (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10623:14)\\n    at Parser.withTopicForbiddingContext (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:9702:14)\\n    at Parser.parseClassBody (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10600:10)\\n    at Parser.parseClass (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10574:22)\\n    at Parser.parseStatementContent (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:9871:21)\\n    at Parser.parseStatement (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:9829:17)\\n    at Parser.parseExportDeclaration (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:11017:17)\\n    at Parser.maybeParseExportDeclaration (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10967:31)\\n    at Parser.parseExport (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10896:29)\\n    at Parser.parseStatementContent (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:9933:27)\\n    at Parser.parseStatement (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:9829:17)\\n    at Parser.parseBlockOrModuleBlockBody (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10405:25)\\n    at Parser.parseBlockBody (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:10392:10)\\n    at Parser.parseTopLevel (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:9758:10)\\n    at Parser.parse (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:11270:17)\\n    at parse (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/parser/lib/index.js:11306:38)\\n    at parser (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/core/lib/transformation/normalize-file.js:170:34)\\n    at normalizeFile (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/core/lib/transformation/normalize-file.js:138:11)\\n    at runSync (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/core/lib/transformation/index.js:44:43)\\n    at runAsync (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/core/lib/transformation/index.js:35:14)\\n    at process.nextTick (/Users/adambo/Desktop/repositories/slot-game/node_modules/@babel/core/lib/transform.js:34:34)\\n    at process._tickCallback (internal/process/next_tick.js:61:11)')},function(e,t,n){\"use strict\";n.r(t);var s=n(0);function i(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=new Array,a=new s.GameStateEvents,r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);for(var t=0;t<5;t++){o[t]=new Array;for(var n=-1;n<3;n++){var s=\"symbol_\"+t+\"_\"+n+\"_\";o[t][n]=s;var i=Math.floor(12*Math.random()+1);document.getElementById(o[t][n]).style.backgroundImage=\"url('../assets/symbols/s\"+i+\".png')\"}}var a=new Array;a=[{reel:0,row:1},{reel:1,row:0},{reel:2,row:0},{reel:3,row:0}],this.animateWinningSymbols(a)}var t,n,s;return t=e,(n=[{key:\"animateWinningSymbols\",value:function(e){e.forEach(function(e){var t=document.getElementById(o[e.reel][e.row]);t.style.animationName=\"winningAnimation\",t.style.animationTimingFunction=\"linear\",t.style.animationDuration=\"1s\",t.style.animationPlayState=\"running\",t.style.animationIterationCount=\"infinite\"})}},{key:\"spinButtonClicked\",value:function(){var e=.2,t=2,n=1,s=n;document.dispatchEvent(a.slotSpinning);for(var i=0;i<5;i++)for(var r=e,l=r,u=-1;u<3;u++){var d=document.getElementById(o[i][u].toString());d.addEventListener(\"webkitAnimationEnd\",m),d.style.animationName=\"spinsymbol_0_\"+u+\"_\",d.style.animationTimingFunction=\"linear\",d.style.animationDuration=r+\"s\",d.style.animationPlayState=\"running\",r-=.25*l}function m(){this.removeEventListener(\"webkitAnimationEnd\",m),this.style.top=\"-33.33%\",this.style.animationName=\"genericSymbolSpin\",this.style.animationDuration=e+\"s\",this.style.animationPlayState=\"running\";var n=Math.round(t/e);this.style.animationIterationCount=n.toString(),this.addEventListener(\"webkitAnimationEnd\",c)}function c(){n=0+.25*s,this.removeEventListener(\"webkitAnimationEnd\",c),this.style.animationDuration=n+\"s\",this.style.animationTimingFunction=\"linear\";var e=this.id.toString().split(\"_\");this.style.animationName=\"resolvesymbol_0_\"+e[2]+\"_\",this.style.animationPlayState=\"running\",this.style.animationIterationCount=1,this.style.animationFillMode=\"forwards\";var t=Math.floor(12*Math.random()+1);document.getElementById(o[e[1]][e[2]]).style.backgroundImage=\"url('../assets/symbols/s\"+t+\".png')\",document.dispatchEvent(a.slotStopped)}}}])&&i(t.prototype,n),s&&i(t,s),e}();function l(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function u(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.betChangedEvent=new CustomEvent(\"onBetChanged\",{detail:{newBet:1},bubbles:!0,cancelable:!0})}var t,n,s;return t=e,(n=[{key:\"betChangedEvent\",get:function(){return this.betChangedEvent}}])&&l(t.prototype,n),s&&l(t,s),e}()),m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._plusButton=document.getElementById(\"betPlusButton\"),this._minusButton=document.getElementById(\"betMinusButton\"),this._betDisplayArea=document.getElementById(\"betDisplayArea\"),this._currentBetIndex=0,this._allValidBets=[0,2,3],this._plusButtonActive=!0,this._minusButtonActive=!0,this._plusButton.addEventListener(\"click\",this._plusButtonClicked.bind(this)),this._minusButton.addEventListener(\"click\",this._minusButtonClicked.bind(this)),this._currentBetIndex=t,this._allValidBets=n,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],this.determineBetButtonsActive()}var t,n,s;return t=e,(n=[{key:\"deactivateBetButtons\",value:function(){this._setPlusButtonActive(!1),this._setMinusButtonActive(!1)}},{key:\"activateBetButtons\",value:function(){this._setPlusButtonActive(!0),this._setMinusButtonActive(!0)}},{key:\"determineBetButtonsActive\",value:function(){0!=this._currentBetIndex&&this._currentBetIndex!=this._allValidBets.length-1?(this._setMinusButtonActive(!0),this._setPlusButtonActive(!0)):0==this._currentBetIndex?(this._setMinusButtonActive(!1),this._setPlusButtonActive(!0)):this._currentBetIndex==this._allValidBets.length-1&&(this._setPlusButtonActive(!1),this._setMinusButtonActive(!0))}},{key:\"_minusButtonClicked\",value:function(){1==this._currentBetIndex>0&&1==this._minusButtonActive&&(this._currentBetIndex--,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],d.betChangedEvent.detail.newBet=this._allValidBets[this._currentBetIndex],this._onBetChangedEvent())}},{key:\"_plusButtonClicked\",value:function(){1==this._currentBetIndex<this._allValidBets.length-1&&1==this._plusButtonActive&&(this._currentBetIndex++,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],d.betChangedEvent.detail.newBet=this._allValidBets[this._currentBetIndex],this._onBetChangedEvent())}},{key:\"_onBetChangedEvent\",value:function(){document.dispatchEvent(d.betChangedEvent),this.determineBetButtonsActive()}},{key:\"_setPlusButtonActive\",value:function(e){!0===e?(this._plusButtonActive=e,this._plusButton.style.backgroundImage=\"url('../assets/console/plusButton.png')\"):0==e&&(this._plusButtonActive=e,this._plusButton.style.backgroundImage=\"url('../assets/console/plusButtonDisabled.png')\")}},{key:\"_setMinusButtonActive\",value:function(e){!0===e?(this._minusButtonActive=e,this._minusButton.style.backgroundImage=\"url('../assets/console/minusButton.png')\"):0==e&&(this._minusButtonActive=e,this._minusButton.style.backgroundImage=\"url('../assets/console/minusButtonDisabled.png')\")}},{key:\"currentBet\",set:function(e){this._currentBet=e}},{key:\"allValidBets\",set:function(e){this._allValidBets=e}}])&&u(t.prototype,n),s&&u(t,s),e}();function c(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._spinButton=document.getElementById(\"spinButton\"),this._spinButtonActive=!0,this.spinButtonClicked=new CustomEvent(\"spinButtonClicked\",{bubbles:!0,cancelable:!0}),this._spinButton.addEventListener(\"click\",this._spinButtonClicked.bind(this))}var t,n,s;return t=e,(n=[{key:\"setSpinButtonActive\",value:function(e){this._setSpinButtonActive(e)}},{key:\"_spinButtonClicked\",value:function(){1==this._spinButtonActive&&(console.log(\"hahahehe\"),document.dispatchEvent(this.spinButtonClicked),this._setSpinButtonActive(!1))}},{key:\"_setSpinButtonActive\",value:function(e){!0===e?(this._spinButtonActive=e,this._spinButton.style.backgroundImage=\"url('../assets/console/spinButton.png')\"):0==e&&(this._spinButtonActive=e,this._spinButton.style.backgroundImage=\"url('../assets/console/spinButtonDisabled.png')\")}}])&&c(t.prototype,n),s&&c(t,s),e}();function b(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._totalBet=0,this._allValidBets=[10,20,50,100],this._currentBetIndex=0,this._spinButtonController=new p,this._reelController=new r,this._betSettingsController=new m(this._currentBetIndex,this._allValidBets),this._gameState=\"\",document.addEventListener(\"slotSpinning\",this._onGameStateEventChanged.bind(this),!1),document.addEventListener(\"slotStopped\",this._onGameStateEventChanged.bind(this),!1),document.addEventListener(\"onBetChanged\",this._onBetChanged.bind(this),!1),document.addEventListener(\"spinButtonClicked\",this._onSpinButtonClicked.bind(this),!1)}var t,n,s;return t=e,(n=[{key:\"_onGameStateEventChanged\",value:function(e){\"slotSpinning\"==e.detail.state?(console.log(\"spin started\"),this._gameState=\"slotSpinning\",this._betSettingsController.deactivateBetButtons()):\"slotStopped\"==e.detail.state&&(console.log(\"spin ended or something\"),this._gameState=\"slotStopped\",this._betSettingsController.determineBetButtonsActive(),this._spinButtonController.setSpinButtonActive(!0))}},{key:\"_onBetChanged\",value:function(e){this._totalBet=e.detail.newBet,console.log(this._totalBet)}},{key:\"_onSpinButtonClicked\",value:function(e){this._reelController.spinButtonClicked()}}])&&b(t.prototype,n),s&&b(t,s),e}())}]);","extractedComments":[]}