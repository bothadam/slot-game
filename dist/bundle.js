!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var s=new Array,o=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.slotSpinning=new CustomEvent("slotSpinning",{detail:{state:"slotSpinning"},bubbles:!0,cancelable:!0}),this.slotStopped=new CustomEvent("slotStopped",{detail:{state:"slotStopped"},bubbles:!0,cancelable:!0})},a=n(1),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var e=0;e<5;e++){s[e]=new Array;for(var n=-1;n<3;n++){var i="symbol_"+e+"_"+n+"_",o="s"+Math.floor(5*Math.random()+1);s[e][n]={symbolId:i,assignedSymbolId:o};var l=document.getElementById("symbolContainer").getBoundingClientRect().width/(a.frames[o].frame.w/a.meta.size.w),r=document.getElementById("symbolContainer").getBoundingClientRect().height/(a.frames[o].frame.h/a.meta.size.h);document.getElementById(i+"img").style.width=l,document.getElementById(i+"img").style.height=r;var u=document.getElementById(i+"img").getBoundingClientRect().width*(a.frames[o].frame.x/a.meta.size.w),c=document.getElementById(i+"img").getBoundingClientRect().height*(a.frames[o].frame.y/a.meta.size.h);document.getElementById(i+"img").style.left="-"+Math.ceil(u)+"px",document.getElementById(i+"img").style.top="-"+c+"px"}window.addEventListener("resize",this.onWindowResize)}new Array}var e,n;return e=t,(n=[{key:"animateWinningSymbols",value:function(t){t.forEach(function(t){var e=document.getElementById(s[t.reel][t.row].symbolId);e.style.animationName="winningAnimation",e.style.animationTimingFunction="linear",e.style.animationDuration="1s",e.style.animationPlayState="running",e.style.animationIterationCount="infinite"})}},{key:"spinButtonClicked",value:function(){var t=.5,e=2,n=1.5,i=n;document.dispatchEvent(o.slotSpinning);for(var l=document.getElementsByClassName("symbolContainer"),r=0;r<l.length;r++)l[r].style.filter="blur(2px)";for(var u=0;u<5;u++)for(var c=t,d=c,m=-1;m<3;m++){var h=document.getElementById(s[u][m].symbolId.toString());h.addEventListener("webkitAnimationEnd",B),h.style.animationName="spinsymbol_0_"+m+"_",h.style.animationTimingFunction="linear",h.style.animationDuration=c+"s",h.style.animationPlayState="running",c-=.25*d}function B(){this.removeEventListener("webkitAnimationEnd",B),this.style.top="-33.33%",this.style.animationName="genericSymbolSpin",this.style.animationDuration=t+"s",this.style.animationPlayState="running";var n=Math.round(e/t);this.style.animationIterationCount=n.toString(),this.addEventListener("webkitAnimationEnd",g)}function g(){for(var t=document.getElementsByClassName("symbolContainer"),e=0;e<t.length;e++)t[e].style.filter="unset";n=0+.25*i,this.removeEventListener("webkitAnimationEnd",g),this.style.animationDuration=n+"s",this.style.animationTimingFunction="linear";var s=this.id.toString().split("_");this.style.animationName="resolvesymbol_0_"+s[2]+"_",this.style.animationPlayState="running",this.style.animationIterationCount=1,this.style.animationFillMode="forwards";var l="s"+Math.floor(5*Math.random()+1),r=document.getElementById("symbolContainer").getBoundingClientRect().width/(a.frames[l].frame.w/a.meta.size.w),u=document.getElementById("symbolContainer").getBoundingClientRect().height/(a.frames[l].frame.h/a.meta.size.h);document.getElementById(this.id+"img").style.width=r,document.getElementById(this.id+"img").style.height=u;var c=document.getElementById(this.id+"img").getBoundingClientRect().width*(a.frames[l].frame.x/a.meta.size.w),d=document.getElementById(this.id+"img").getBoundingClientRect().height*(a.frames[l].frame.y/a.meta.size.h);document.getElementById(this.id+"img").style.left="-"+Math.ceil(c)+"px",document.getElementById(this.id+"img").style.top="-"+d+"px",document.dispatchEvent(o.slotStopped)}}},{key:"onWindowResize",value:function(){for(var t=0;t<5;t++)for(var e=-1;e<3;e++){var n=s[t][e].symbolId,i=s[t][e].assignedSymbolId,o=document.getElementById("symbolContainer").getBoundingClientRect().width/(a.frames[i].frame.w/a.meta.size.w),l=document.getElementById("symbolContainer").getBoundingClientRect().height/(a.frames[i].frame.h/a.meta.size.h);document.getElementById(n+"img").style.width=o,document.getElementById(n+"img").style.height=l;var r=document.getElementById(n+"img").getBoundingClientRect().width*(a.frames[i].frame.x/a.meta.size.w),u=document.getElementById(n+"img").getBoundingClientRect().height*(a.frames[i].frame.y/a.meta.size.h);document.getElementById(n+"img").style.left="-"+Math.ceil(r)+"px",document.getElementById(n+"img").style.top="-"+u+"px"}}}])&&i(e.prototype,n),t}();function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.betChangedEvent=new CustomEvent("onBetChanged",{detail:{newBet:1},bubbles:!0,cancelable:!0})},c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._plusButton=document.getElementById("betPlusButton"),this._minusButton=document.getElementById("betMinusButton"),this._betDisplayArea=document.getElementById("betDisplayArea"),this._currentBetIndex=0,this._allValidBets=[0,2,3],this._plusButtonActive=!0,this._minusButtonActive=!0,this._plusButton.addEventListener("click",this._plusButtonClicked.bind(this)),this._minusButton.addEventListener("click",this._minusButtonClicked.bind(this)),this._currentBetIndex=e,this._allValidBets=n,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],this.determineBetButtonsActive()}var e,n;return e=t,(n=[{key:"deactivateBetButtons",value:function(){this._setPlusButtonActive(!1),this._setMinusButtonActive(!1)}},{key:"activateBetButtons",value:function(){this._setPlusButtonActive(!0),this._setMinusButtonActive(!0)}},{key:"determineBetButtonsActive",value:function(){0!=this._currentBetIndex&&this._currentBetIndex!=this._allValidBets.length-1?(this._setMinusButtonActive(!0),this._setPlusButtonActive(!0)):0==this._currentBetIndex?(this._setMinusButtonActive(!1),this._setPlusButtonActive(!0)):this._currentBetIndex==this._allValidBets.length-1&&(this._setPlusButtonActive(!1),this._setMinusButtonActive(!0))}},{key:"_minusButtonClicked",value:function(){1==this._currentBetIndex>0&&1==this._minusButtonActive&&(this._currentBetIndex--,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],u.betChangedEvent.detail.newBet=this._allValidBets[this._currentBetIndex],this._onBetChangedEvent())}},{key:"_plusButtonClicked",value:function(){1==this._currentBetIndex<this._allValidBets.length-1&&1==this._plusButtonActive&&(this._currentBetIndex++,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],u.betChangedEvent.detail.newBet=this._allValidBets[this._currentBetIndex],this._onBetChangedEvent())}},{key:"_onBetChangedEvent",value:function(){document.dispatchEvent(u.betChangedEvent),this.determineBetButtonsActive()}},{key:"_setPlusButtonActive",value:function(t){!0===t?(this._plusButtonActive=t,this._plusButton.style.backgroundImage="url('../assets/console/plusButton.png')"):0==t&&(this._plusButtonActive=t,this._plusButton.style.backgroundImage="url('../assets/console/plusButtonDisabled.png')")}},{key:"_setMinusButtonActive",value:function(t){!0===t?(this._minusButtonActive=t,this._minusButton.style.backgroundImage="url('../assets/console/minusButton.png')"):0==t&&(this._minusButtonActive=t,this._minusButton.style.backgroundImage="url('../assets/console/minusButtonDisabled.png')")}},{key:"currentBet",set:function(t){this._currentBet=t}},{key:"allValidBets",set:function(t){this._allValidBets=t}}])&&r(e.prototype,n),t}();function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._spinButton=document.getElementById("spinButton"),this._spinButtonActive=!0,this.spinButtonClicked=new CustomEvent("spinButtonClicked",{bubbles:!0,cancelable:!0}),this._spinButton.addEventListener("click",this._spinButtonClicked.bind(this))}var e,n;return e=t,(n=[{key:"setSpinButtonActive",value:function(t){this._setSpinButtonActive(t)}},{key:"_spinButtonClicked",value:function(){1==this._spinButtonActive&&(console.log("hahahehe"),document.dispatchEvent(this.spinButtonClicked),this._setSpinButtonActive(!1))}},{key:"_setSpinButtonActive",value:function(t){!0===t?(this._spinButtonActive=t,this._spinButton.style.backgroundImage="url('../assets/console/spinButton.png')"):0==t&&(this._spinButtonActive=t,this._spinButton.style.backgroundImage="url('../assets/console/spinButtonDisabled.png')")}}])&&d(e.prototype,n),t}();function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._totalBet=0,this._allValidBets=[10,20,50,100],this._currentBetIndex=0,this._spinButtonController=new m,this._reelController=new l,this._betSettingsController=new c(this._currentBetIndex,this._allValidBets),this._gameState="",document.addEventListener("slotSpinning",this._onGameStateEventChanged.bind(this),!1),document.addEventListener("slotStopped",this._onGameStateEventChanged.bind(this),!1),document.addEventListener("onBetChanged",this._onBetChanged.bind(this),!1),document.addEventListener("spinButtonClicked",this._onSpinButtonClicked.bind(this),!1)}var e,n;return e=t,(n=[{key:"_onGameStateEventChanged",value:function(t){"slotSpinning"==t.detail.state?(console.log("spin started"),this._gameState="slotSpinning",this._betSettingsController.deactivateBetButtons()):"slotStopped"==t.detail.state&&(console.log("spin ended or something"),this._gameState="slotStopped",this._betSettingsController.determineBetButtonsActive(),this._spinButtonController.setSpinButtonActive(!0))}},{key:"_onBetChanged",value:function(t){this._totalBet=t.detail.newBet,console.log(this._totalBet)}},{key:"_onSpinButtonClicked",value:function(t){this._reelController.spinButtonClicked()}}])&&h(e.prototype,n),t}())},function(t){t.exports=JSON.parse('{"frames":{"s1":{"frame":{"x":783,"y":614,"w":678,"h":567},"rotated":false,"trimmed":true,"spriteSourceSize":{"x":111,"y":122,"w":678,"h":567},"sourceSize":{"w":900,"h":811}},"s2":{"frame":{"x":1203,"y":5,"w":536,"h":550},"rotated":false,"trimmed":true,"spriteSourceSize":{"x":182,"y":130,"w":536,"h":550},"sourceSize":{"w":900,"h":811}},"s3":{"frame":{"x":5,"y":636,"w":768,"h":419},"rotated":false,"trimmed":true,"spriteSourceSize":{"x":66,"y":196,"w":768,"h":419},"sourceSize":{"w":900,"h":811}},"s4":{"frame":{"x":5,"y":5,"w":550,"h":621},"rotated":false,"trimmed":true,"spriteSourceSize":{"x":175,"y":95,"w":550,"h":621},"sourceSize":{"w":900,"h":811}},"s5":{"frame":{"x":565,"y":5,"w":628,"h":599},"rotated":false,"trimmed":true,"spriteSourceSize":{"x":136,"y":106,"w":628,"h":599},"sourceSize":{"w":900,"h":811}}},"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"1.0","image":"allSyms.png","format":"RGBA8888","size":{"w":1744,"h":1186},"scale":"1","smartupdate":"$TexturePacker:SmartUpdate:9e3e944c6ee683e7c4e5a61880b05832:5d0307ab68b10b9be7ac5152b0eee8bb:4544421c6385ea6cc115a4fb5bff0c50$"}}')}]);