!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var s=new Array,o=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.slotSpinning=new CustomEvent("slotSpinning",{detail:{state:"slotSpinning"},bubbles:!0,cancelable:!0}),this.slotStopped=new CustomEvent("slotStopped",{detail:{state:"slotStopped"},bubbles:!0,cancelable:!0})},a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var e=0;e<5;e++){s[e]=new Array;for(var n=-1;n<3;n++){var i="symbol_"+e+"_"+n+"_";s[e][n]=i;var o=Math.floor(5*Math.random()+1);document.getElementById(s[e][n]).style.backgroundImage="url('../assets/symbols/s"+o+".png')"}}var a=new Array;a=[{reel:0,row:1},{reel:1,row:0},{reel:2,row:0},{reel:3,row:0}],this.animateWinningSymbols(a)}var e,n;return e=t,(n=[{key:"animateWinningSymbols",value:function(t){t.forEach(function(t){var e=document.getElementById(s[t.reel][t.row]);e.style.animationName="winningAnimation",e.style.animationTimingFunction="linear",e.style.animationDuration="1s",e.style.animationPlayState="running",e.style.animationIterationCount="infinite"})}},{key:"spinButtonClicked",value:function(){var t=.2,e=2,n=1,i=n;document.dispatchEvent(o.slotSpinning);for(var a=0;a<5;a++)for(var l=t,u=l,r=-1;r<3;r++){var c=document.getElementById(s[a][r].toString());c.addEventListener("webkitAnimationEnd",d),c.style.animationName="spinsymbol_0_"+r+"_",c.style.animationTimingFunction="linear",c.style.animationDuration=l+"s",c.style.animationPlayState="running",l-=.25*u}function d(){this.removeEventListener("webkitAnimationEnd",d),this.style.top="-33.33%",this.style.animationName="genericSymbolSpin",this.style.animationDuration=t+"s",this.style.animationPlayState="running";var n=Math.round(e/t);this.style.animationIterationCount=n.toString(),this.addEventListener("webkitAnimationEnd",h)}function h(){n=0+.25*i,this.removeEventListener("webkitAnimationEnd",h),this.style.animationDuration=n+"s",this.style.animationTimingFunction="linear";var t=this.id.toString().split("_");this.style.animationName="resolvesymbol_0_"+t[2]+"_",this.style.animationPlayState="running",this.style.animationIterationCount=1,this.style.animationFillMode="forwards";var e=Math.floor(12*Math.random()+1);document.getElementById(s[t[1]][t[2]]).style.backgroundImage="url('../assets/symbols/s"+e+".png')",document.dispatchEvent(o.slotStopped)}}}])&&i(e.prototype,n),t}();function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.betChangedEvent=new CustomEvent("onBetChanged",{detail:{newBet:1},bubbles:!0,cancelable:!0})},r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._plusButton=document.getElementById("betPlusButton"),this._minusButton=document.getElementById("betMinusButton"),this._betDisplayArea=document.getElementById("betDisplayArea"),this._currentBetIndex=0,this._allValidBets=[0,2,3],this._plusButtonActive=!0,this._minusButtonActive=!0,this._plusButton.addEventListener("click",this._plusButtonClicked.bind(this)),this._minusButton.addEventListener("click",this._minusButtonClicked.bind(this)),this._currentBetIndex=e,this._allValidBets=n,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],this.determineBetButtonsActive()}var e,n;return e=t,(n=[{key:"deactivateBetButtons",value:function(){this._setPlusButtonActive(!1),this._setMinusButtonActive(!1)}},{key:"activateBetButtons",value:function(){this._setPlusButtonActive(!0),this._setMinusButtonActive(!0)}},{key:"determineBetButtonsActive",value:function(){0!=this._currentBetIndex&&this._currentBetIndex!=this._allValidBets.length-1?(this._setMinusButtonActive(!0),this._setPlusButtonActive(!0)):0==this._currentBetIndex?(this._setMinusButtonActive(!1),this._setPlusButtonActive(!0)):this._currentBetIndex==this._allValidBets.length-1&&(this._setPlusButtonActive(!1),this._setMinusButtonActive(!0))}},{key:"_minusButtonClicked",value:function(){1==this._currentBetIndex>0&&1==this._minusButtonActive&&(this._currentBetIndex--,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],u.betChangedEvent.detail.newBet=this._allValidBets[this._currentBetIndex],this._onBetChangedEvent())}},{key:"_plusButtonClicked",value:function(){1==this._currentBetIndex<this._allValidBets.length-1&&1==this._plusButtonActive&&(this._currentBetIndex++,this._betDisplayArea.innerHTML=this._allValidBets[this._currentBetIndex],u.betChangedEvent.detail.newBet=this._allValidBets[this._currentBetIndex],this._onBetChangedEvent())}},{key:"_onBetChangedEvent",value:function(){document.dispatchEvent(u.betChangedEvent),this.determineBetButtonsActive()}},{key:"_setPlusButtonActive",value:function(t){!0===t?(this._plusButtonActive=t,this._plusButton.style.backgroundImage="url('../assets/console/plusButton.png')"):0==t&&(this._plusButtonActive=t,this._plusButton.style.backgroundImage="url('../assets/console/plusButtonDisabled.png')")}},{key:"_setMinusButtonActive",value:function(t){!0===t?(this._minusButtonActive=t,this._minusButton.style.backgroundImage="url('../assets/console/minusButton.png')"):0==t&&(this._minusButtonActive=t,this._minusButton.style.backgroundImage="url('../assets/console/minusButtonDisabled.png')")}},{key:"currentBet",set:function(t){this._currentBet=t}},{key:"allValidBets",set:function(t){this._allValidBets=t}}])&&l(e.prototype,n),t}();function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._spinButton=document.getElementById("spinButton"),this._spinButtonActive=!0,this.spinButtonClicked=new CustomEvent("spinButtonClicked",{bubbles:!0,cancelable:!0}),this._spinButton.addEventListener("click",this._spinButtonClicked.bind(this))}var e,n;return e=t,(n=[{key:"setSpinButtonActive",value:function(t){this._setSpinButtonActive(t)}},{key:"_spinButtonClicked",value:function(){1==this._spinButtonActive&&(console.log("hahahehe"),document.dispatchEvent(this.spinButtonClicked),this._setSpinButtonActive(!1))}},{key:"_setSpinButtonActive",value:function(t){!0===t?(this._spinButtonActive=t,this._spinButton.style.backgroundImage="url('../assets/console/spinButton.png')"):0==t&&(this._spinButtonActive=t,this._spinButton.style.backgroundImage="url('../assets/console/spinButtonDisabled.png')")}}])&&c(e.prototype,n),t}();function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._totalBet=0,this._allValidBets=[10,20,50,100],this._currentBetIndex=0,this._spinButtonController=new d,this._reelController=new a,this._betSettingsController=new r(this._currentBetIndex,this._allValidBets),this._gameState="",document.addEventListener("slotSpinning",this._onGameStateEventChanged.bind(this),!1),document.addEventListener("slotStopped",this._onGameStateEventChanged.bind(this),!1),document.addEventListener("onBetChanged",this._onBetChanged.bind(this),!1),document.addEventListener("spinButtonClicked",this._onSpinButtonClicked.bind(this),!1)}var e,n;return e=t,(n=[{key:"_onGameStateEventChanged",value:function(t){"slotSpinning"==t.detail.state?(console.log("spin started"),this._gameState="slotSpinning",this._betSettingsController.deactivateBetButtons()):"slotStopped"==t.detail.state&&(console.log("spin ended or something"),this._gameState="slotStopped",this._betSettingsController.determineBetButtonsActive(),this._spinButtonController.setSpinButtonActive(!0))}},{key:"_onBetChanged",value:function(t){this._totalBet=t.detail.newBet,console.log(this._totalBet)}},{key:"_onSpinButtonClicked",value:function(t){this._reelController.spinButtonClicked()}}])&&h(e.prototype,n),t}())}]);